// generated automatically
// DO NOT MODIFY!
declare id "supersonic";
declare name "Push Pull 6L6";
declare shortname "SuperSonic";
declare description "Push Pull 6L6";
declare samplerate "96000";

import("stdfaust.lib");

p1 = pre : fi.iir((b0/a0,b1/a0,b2/a0,b3/a0,b4/a0,b5/a0),(a1/a0,a2/a0,a3/a0,a4/a0,a5/a0)) : supersonicclip with {
    LogPot(a, x) = ba.if(a, (exp(a * x) - 1) / (exp(a) - 1), x);
    Inverted(b, x) = ba.if(b, 1 - x, x);
    s = 0.993;
    fs = float(ma.SR);
    pre = _;


    b0 = fs*(fs*(fs*(fs*(2.20682184684432e-26*fs + 8.17344554235261e-19) + 1.15906710571025e-16) + 4.2235930719266e-15) + 7.76975700660911e-14) + 1.26979539981828e-12;

    b1 = fs*(fs*(fs*(fs*(-1.10341092342216e-25*fs - 2.45203366270578e-18) - 1.15906710571025e-16) + 4.2235930719266e-15) + 2.33092710198273e-13) + 6.34897699909141e-12;

    b2 = fs*(fs*(fs*(fs*(2.20682184684432e-25*fs + 1.63468910847052e-18) - 2.31813421142051e-16) - 8.44718614385319e-15) + 1.55395140132182e-13) + 1.26979539981828e-11;

    b3 = fs*(fs*(fs*(fs*(-2.20682184684432e-25*fs + 1.63468910847052e-18) + 2.31813421142051e-16) - 8.44718614385319e-15) - 1.55395140132182e-13) + 1.26979539981828e-11;

    b4 = fs*(fs*(fs*(fs*(1.10341092342216e-25*fs - 2.45203366270578e-18) + 1.15906710571025e-16) + 4.2235930719266e-15) - 2.33092710198273e-13) + 6.34897699909141e-12;

    b5 = fs*(fs*(fs*(fs*(-2.20682184684432e-26*fs + 8.17344554235261e-19) - 1.15906710571025e-16) + 4.2235930719266e-15) - 7.76975700660911e-14) + 1.26979539981828e-12;

    a0 = fs*(fs*(fs*(fs*(5.00590822563103e-27*fs + 1.85439561729349e-19) + 1.29213045864058e-16) + 1.91675735640238e-14) + 9.77706930886932e-13) + 1.59787065310447e-11;

    a1 = fs*(fs*(fs*(fs*(-2.50295411281552e-26*fs - 5.56318685188047e-19) - 1.29213045864058e-16) + 1.91675735640238e-14) + 2.9331207926608e-12) + 7.98935326552235e-11;

    a2 = fs*(fs*(fs*(fs*(5.00590822563103e-26*fs + 3.70879123458698e-19) - 2.58426091728115e-16) - 3.83351471280476e-14) + 1.95541386177386e-12) + 1.59787065310447e-10;

    a3 = fs*(fs*(fs*(fs*(-5.00590822563103e-26*fs + 3.70879123458698e-19) + 2.58426091728115e-16) - 3.83351471280476e-14) - 1.95541386177386e-12) + 1.59787065310447e-10;

    a4 = fs*(fs*(fs*(fs*(2.50295411281552e-26*fs - 5.56318685188047e-19) + 1.29213045864058e-16) + 1.91675735640238e-14) - 2.9331207926608e-12) + 7.98935326552235e-11;

    a5 = fs*(fs*(fs*(fs*(-5.00590822563103e-27*fs + 1.85439561729349e-19) - 1.29213045864058e-16) + 1.91675735640238e-14) - 9.77706930886932e-13) + 1.59787065310447e-11;
};

supersonicclip = _<: ba.if(signbit(_), supersonic_neg_clip, supersonic_clip) :>_ with {

    signbit = ffunction(int signbit(float), "math.h", "");

    supersonic_clip = ffunction(float supersonicclip(float), "supersonic_table.h", "");

    supersonic_neg_clip = ffunction(float supersonic_negclip(float), "supersonic_neg_table.h", "");

};
    ingain =  vslider("Gain",0,-30,30,0.1) : ba.db2linear : si.smooth(0.999);
    outgain = vslider("Volume", 0, -30.0, 30.0, 0.1) : ba.db2linear : si.smooth(0.999);

process =  *(ingain) : p1 : *(0.8) : *(outgain);
